(function($,n){function h(n){return typeof n=="string"}function e(n){var t=w.call(arguments,1);return function(){return n.apply(this,t.concat(w.call(arguments)))}}function st(n){return n.replace(/^[^#]*#?(.*)$/,"$1")}function ht(n){return n.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function ut(e,s,c,a,v){var b,y,w,k,d;return a!==t?(w=c.match(e?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),d=w[3]||"",v===2&&h(a)?y=a.replace(e?it:tt,""):(k=i(w[2]),a=h(a)?i[e?r:u](a):a,y=v===2?a:v===1?$.extend({},a,k):$.extend({},k,a),y=o(y),e&&(y=y.replace(rt,l))),b=w[1]+(e?"#":y||!w[1]?"?":"")+y+d):b=s(c!==t?c:n[p][f]),b}function ft(n,f,e){return f===t||typeof f=="boolean"?(e=f,f=o[n?r:u]()):f=h(f)?f.replace(n?it:tt,""):f,i(f,e)}function et(n,i,r,u){return h(r)||typeof r=="object"||(u=r,r=i,i=t),this.each(function(){var f=$(this),t=i||d()[(this.nodeName||"").toLowerCase()]||"",e=t&&f.attr(t)||"";f.attr(t,o[n](e,r,u))})}var t,w=Array.prototype.slice,l=decodeURIComponent,o=$.param,s,i,a,v=$.bbq=$.bbq||{},b,k,d,g=$.event.special,nt="hashchange",u="querystring",r="fragment",y="elemUrlAttr",p="location",f="href",c="src",tt=/^.*\?|#.*$/g,it=/^.*\#/,rt,ot={};o[u]=e(ut,0,ht),o[r]=s=e(ut,1,st),s.noEscape=function(n){n=n||"";var t=$.map(n.split(""),encodeURIComponent);rt=new RegExp(t.join("|"),"g")},s.noEscape(",/"),$.deparam=i=function(n,i){var r={},u={"true":!0,"false":!1,"null":null};return $.each(n.replace(/\+/g," ").split("&"),function(n,f){var v=f.split("="),s=l(v[0]),e,a=r,c=0,o=s.split("]["),h=o.length-1;if(/\[/.test(o[0])&&/\]$/.test(o[h])?(o[h]=o[h].replace(/\]$/,""),o=o.shift().split("[").concat(o),h=o.length-1):h=0,v.length===2)if(e=l(v[1]),i&&(e=e&&!isNaN(e)?+e:e==="undefined"?t:u[e]!==t?u[e]:e),h)for(;c<=h;c++)s=o[c]===""?a.length:o[c],a=a[s]=c<h?a[s]||(o[c+1]&&isNaN(o[c+1])?{}:[]):e;else $.isArray(r[s])?r[s].push(e):r[s]=r[s]!==t?[r[s],e]:e;else s&&(r[s]=i?t:"")}),r},i[u]=e(ft,0),i[r]=a=e(ft,1),$[y]||($[y]=function(n){return $.extend(ot,n)})({a:f,base:f,iframe:c,img:c,input:c,form:"action",link:f,script:c}),d=$[y],$.fn[u]=e(et,u),$.fn[r]=e(et,r),v.pushState=b=function(i,r){h(i)&&/^#/.test(i)&&r===t&&(r=2);var u=i!==t,e=s(n[p][f],u?i:{},u?r:2);n[p][f]=e+(/#/.test(e)?"":"#")},v.getState=k=function(n,i){return n===t||typeof n=="boolean"?a(n):a(i)[n]},v.removeState=function(n){var i={};n!==t&&(i=k(),$.each($.isArray(n)?n:arguments,function(n,t){delete i[t]})),b(i,2)},g[nt]=$.extend(g[nt],{add:function(n){function f(n){var f=n[r]=s();n.getState=function(n,r){return n===t||typeof n=="boolean"?i(f,n):i(f,r)[n]},u.apply(this,arguments)}var u;if($.isFunction(n))return u=n,f;u=n.handler,n.handler=f}})})(jQuery,this),function($,n,t){function f(t){return t=t||n[r][u],t.replace(/^[^#]*#?(.*)$/,"$1")}var e,o=$.event.special,r="location",i="hashchange",u="href",l=$.browser,s=document.documentMode,h=l.msie&&(s===t||s<8),c="on"+i in n&&!h;$[i+"Delay"]=100,o[i]=$.extend(o[i],{setup:function(){if(c)return!1;$(e.start)},teardown:function(){if(c)return!1;$(e.stop)}}),e=function(){function l(){e=c=function(n){return n},h&&(o=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,c=function(){return f(o.document[r][u])},e=function(n,t){if(n!==t){var i=o.document;i.open().close(),i[r].hash="#"+n}},e(f()))}var s={},t,o,e,c;return s.start=function(){if(!t){var o=f();e||l(),function s(){var l=f(),h=c(o);l!==o?(e(o=l,h),$(n).trigger(i)):h!==o&&(n[r][u]=n[r][u].replace(/#.*/,"")+"#"+h),t=setTimeout(s,$[i+"Delay"])}()}},s.stop=function(){o||(t&&clearTimeout(t),t=0)},s}()}(jQuery,this);
//# sourceMappingURL=jquery.ba-bbq.min.js.map